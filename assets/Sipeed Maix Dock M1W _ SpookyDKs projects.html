<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Sipeed Maix Dock M1W | SpookyDKs projects</title>
<meta name="generator" content="Jekyll v3.10.0">
<meta property="og:title" content="Sipeed Maix Dock M1W">
<meta name="author" content="Esben Jørgensen">
<meta property="og:locale" content="en_US">
<meta name="description" content="What is the Maix Dock M1W?">
<meta property="og:description" content="What is the Maix Dock M1W?">
<link rel="canonical" href="https://spookydk.github.io/blog/blog/2025/05/24/setup.html">
<meta property="og:url" content="https://spookydk.github.io/blog/blog/2025/05/24/setup.html">
<meta property="og:site_name" content="SpookyDKs projects">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2025-05-24T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Sipeed Maix Dock M1W">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Esben Jørgensen"},"dateModified":"2025-05-24T00:00:00+00:00","datePublished":"2025-05-24T00:00:00+00:00","description":"What is the Maix Dock M1W?","headline":"Sipeed Maix Dock M1W","mainEntityOfPage":{"@type":"WebPage","@id":"https://spookydk.github.io/blog/blog/2025/05/24/setup.html"},"url":"https://spookydk.github.io/blog/blog/2025/05/24/setup.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="Sipeed%20Maix%20Dock%20M1W%20_%20SpookyDKs%20projects_files/main.css"><link type="application/atom+xml" rel="alternate" href="https://spookydk.github.io/blog/feed.xml" title="SpookyDKs projects"></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="https://spookydk.github.io/blog/">SpookyDKs projects</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="https://spookydk.github.io/blog/">A Place of Experimentation</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope="" itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Sipeed Maix Dock M1W</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2025-05-24T00:00:00+00:00" itemprop="datePublished">May 24, 2025
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="what-is-the-maix-dock-m1w">What is the Maix Dock M1W?</h1>
<p><img src="Sipeed%20Maix%20Dock%20M1W%20_%20SpookyDKs%20projects_files/Maix-dock.jpg" alt="Maix Dock M1W" style="width:60%;"></p>

<p>The Maix Dock M1W is a small RISC-V based Micro-controller, with the 
main point of interest being the integrated NPU called KPU. 
The board is based around the Kendryte K210 chip, which comes with 2 
64bit RICS-V cores clocked at 400MHz and a dedicated NPU. 
The NPU is marketed with the ability to perform 1TOPS at INT8 precision.<br>
This makes the M1W an interresting product for low-power object detection.</p>

<p>The specifictions for the M1W is as follows:<br>
<em>With ESP32-WROOM for comparision</em></p>

<table>
    <tbody><tr>
        <th>Item</th>
        <th>M1W / K210</th>
        <th>ESP32</th>
    </tr>
    <tr>
    <td>CPU:</td>
        <td>
            <p>Dual-core 64bit risc-v / 400MHz</p>
            <p> (double-precision FPU integration)</p>
        </td>
        <td>Dual-core 32bit Xtensa LX6 / 240MHz</td>
    </tr>
    <tr>
        <td>Memory:</td>
        <td> 8Mib 64bit on-chip SRAM </td>
        <td> 520Kib 32bit on-chip SRAM</td>
    </tr>
    <tr>
        <td>NPU / KPU:</td>
        <td> 1TOPS of INT8 multiplication</td>
        <td> No NPU</td>
    </tr>
    <tr>
        <td>Storage:</td>
        <td>16MiB Flash, support micro SDXC expansion storage (max 128GB)</td>
        <td>16MiB Flash</td>
    </tr>
    <tr>
        <td> WIFI: </td>
        <td> MaixDock (M1W) uses M1W (integrated ESP8285 2.4GHz WIFI SOC)</td>
        <td> ESP32 comes with integrated 2.4GHz WIFI</td>
    </tr>
    <tr>
        <td> Screen (package): </td>
        <td> 2.4 inch TFT, screen resolution: 320*240</td>
        <td> Depends on kit</td>
    </tr>
    <tr>
        <td> Camera (package):</td>
        <td> 30W pixel GC0328 camera </td>
        <td> Depends on kit</td>
    </tr>
    <tr>
        <td> TF card slot:</td>
        <td> Multimedia resource expansion, support large-capacity storage</td>
        <td> Depends on kit</td>
    </tr>
</tbody></table>

<h1 id="m1w-unboxing">M1W Unboxing</h1>
<p>I ordered the M1W from Aliexpress and it arrived in a small cardboard
 box with a plastic enclosure containing: the M1W itself, the 2.4 inch 
screen, a small camera already attached, an antenna and a USB-C  to 
Micro-b adapter.<br>
<img src="Sipeed%20Maix%20Dock%20M1W%20_%20SpookyDKs%20projects_files/M1W-unbloxed.png" alt="Platic enclosure" style="width:100%;"></p>
<h1 id="m1w-initial-power-on">M1W Initial Power On</h1>
<p>An inital power on of the M1W originally showed a welcome MaixDuino 
welcome message on the display, but when trying to recreate it for a 
picture the display only shows white</p>

<p><img src="Sipeed%20Maix%20Dock%20M1W%20_%20SpookyDKs%20projects_files/M1W-White.png" alt="Platic enclosure" style="width:100%;"></p>
<h1 id="programming-on-the-m1w">Programming on the M1W</h1>
<p>When trying to find guides for the M1W especially for programming 
low-level C code, most links from official sources are either on chinese
 or points to non existent pages. 
However, Platformio has the M1W-board listed as <em>sipeed-maix-one-dock</em>, and is compatible with the arduino framework.<br>
So for an easy test I wrote a simple script making the builtin led blink.  SUCCESS!!!<br>
The <em>platformio.ini</em> and <em>main.cpp</em> code can be seen below</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#platformio.ini</span>

    <span class="p">[</span><span class="n">env</span><span class="ss">:sipeed</span><span class="o">-</span><span class="n">maixduino</span><span class="p">]</span>
    <span class="n">platform</span> <span class="o">=</span> <span class="n">kendryte210</span>
    <span class="n">board</span> <span class="o">=</span> <span class="n">sipeed</span><span class="o">-</span><span class="n">maix</span><span class="o">-</span><span class="n">one</span><span class="o">-</span><span class="n">dock</span>
    <span class="n">framework</span> <span class="o">=</span> <span class="n">arduino</span>
    <span class="n">upload_speed</span> <span class="o">=</span> <span class="mi">115200</span>
    <span class="n">monitor_speed</span> <span class="o">=</span> <span class="mi">115200</span>
</code></pre></div></div>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#main.cpp
</span>
    <span class="cp">#include</span> <span class="cpf">&lt;Arduino.h&gt;</span><span class="cp">
</span>
    <span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
        <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
        <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span> <span class="p">{}</span>
        <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"Starting LED blink"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">loop</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
        <span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
        <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"Blink!"</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div></div>
<h1 id="serial-communication-with-m1w">Serial communication with M1W</h1>
<p>Serial communication is crucial when trying to debug anything on 
Micro-controllers, so to make sure Serial communication is working 
properly I added the <em>Serial.println(“Blink!”);</em> to the previous code. This however did not work out of the box, when trying to monitor the serial connection via <em>platformio device monitor</em> nothing would show up, and the LED would stop blinking?.<br>
After doing some research I found that the M1W possibly was entering 
boot/ISP mode, as if i was trying to flash new software to it.
This was easily fixed by disabling DTR and RTS by adding <em>monitor_rts = 0</em> and <em>monitor_dtr = 0</em> to <em>platformio.ini</em></p>
<h1 id="k210-vs-esp32-cpu-performance">K210 vs ESP32 CPU Performance</h1>
<p>The K210s CPU is clocked alot higher than that of the ESP32, so I was curios about what the performance difference could be?<br>
Especially with the K210 supporting <em>FP64</em> and having a much larger amount of builtin SRAM. 
For a quick benchmarking of the boards I did a simple and mostly theoretical benchmark, measuring the time it took to do 10
million addtions, multiplications and divisions, for <em>INT64</em> <em>Float32</em> and <em>Float64</em>,
 on a single core, then converting the results to million operations per
 second. Results can be seen below, where the K210 is on average 2.5x 
faster compared to the ESP32.<br>
<img src="Sipeed%20Maix%20Dock%20M1W%20_%20SpookyDKs%20projects_files/K210vESP32-mops.svg" alt="Benchmark" style="width:100%;">
With the K210 having FP64 implemented in hardware, and the ESP32 relying
 on software, it is disappointing to see that the FP64 performance isn’t
 much greater than that of the ESP32. This benchmark only focuses on raw
 performance that isn’t touching the IO.</p>
<h1 id="k210-vs-esp32-memory-performance">K210 vs ESP32 Memory Performance</h1>
<p>With the CPU performance of the K210 being impressive but still 
disappointing, I wanted to know how big a difference the larger SRAM 
capacity could have on performance. For this lets try sorting arrays of 
vaious sizes
The speed of both read and write was tested by allocating a certain 
buffer size and written and reading from it.</p>

<p><img src="Sipeed%20Maix%20Dock%20M1W%20_%20SpookyDKs%20projects_files/K210vsESP32ReadWrite.svg" alt="Benchmarkmemory" style="width:100%;"><br>
As can been seen on the image above, the K210 outperforms the ESP32 by a
 wide margin, with write speeds being consistent up to over 5MB, were 
the ESP32 falls of after 110KB, because everything over that requires 
the ESP32 to use external RAM.</p>

  </div><a class="u-url" href="https://spookydk.github.io/blog/blog/2025/05/24/setup.html" hidden=""></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">SpookyDKs projects</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Esben Jørgensen</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Blog for all my projects that need it</p>
      </div>
    </div>

  </div>

</footer>



</body></html>